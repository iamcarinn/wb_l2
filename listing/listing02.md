Что выведет программа? Объяснить вывод программы. Объяснить как работают defer’ы и их порядок вызовов.

```go
package main

import (
	"fmt"
)


func test() (x int) {
	defer func() {
		x++
	}()
	x = 1
	return
}


func anotherTest() int {
	var x int
	defer func() {
		x++
	}()
	x = 1
	return x
}


func main() {
	fmt.Println(test())
	fmt.Println(anotherTest())
}
```

Ответ:
```
2
1
```
**Почему `test()` вернула `2`, а `anotherTest()` - `1`?**
- В `test()` `x` - **именованная возвращаемая переменная**, поэтому `defer` изменяет её перед выходом, увеличивая 1.
- В `anotherTest()` `x` - это **обычная локальная переменная**, а `return x` фиксирует её значение перед выполнением `defer`.
- `defer` выполняется после `return`, но изменение `x` в `anotherTest()` не влияет на возвращаемое значение.
Поэтому `test()` возвращает 2, а `anotherTest()` - 1.


**Как работают `defer`?**
- `defer` откладывает выполнение функции до выхода из родительской функции.
- Если `defer` изменяет переменную, объявленную в возвращаемом значении, это влияет на итоговый результат.
- Если `defer` изменяет локальную переменную, переданную через return, её изменение не влияет на результат.

